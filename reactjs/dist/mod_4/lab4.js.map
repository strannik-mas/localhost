{"version":3,"sources":["../../mod_4/lab4.js"],"names":["dataBook","id","title","author","price","Book","React","Component","constructor","props","state","selected","handleClick","bind","addBasketBook","componentDidMount","e","preventDefault","setState","handleAddBasket","render","BookWithoutPrice","Form","handleChange","target","value","AddBookForm","handleSubmit","isValidBook","book","name","onChange","alert","App","items","addBasket","removeBasket","handleNewBook","newBook","prevState","push","slice","console","dir","result","map","item","Basket","deleteBasketItem","handleRemoveBasket","getIndexById","p","j","sum","i","ReactDOM","document","getElementById","Like","counter","collection","getElementsByClassName","length"],"mappings":"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","file":"lab4.js","sourcesContent":["const dataBook = [\n    {id: 1, title: \"Book 1\", author: \"Author 1\", price: 500},\n    {id: 5, title: \"Book 2\", author: \"Author 2\", price: 1200},\n    {id: 6, title: \"Book 3\", author: \"Author 3\", price: null},\n];\n\nclass Book extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {selected: false};\n        this.handleClick = this.handleClick.bind(this);\n        this.addBasketBook = this.addBasketBook.bind(this);\n    }\n\n    componentDidMount(){\n        // console.log(\"--\", \"компонент смонтирован\");\n    }\n\n    handleClick(e){\n        e.preventDefault();\n        this.setState({selected:!this.state.selected});\n    }\n\n    addBasketBook(e){\n        e.preventDefault();\n        this.props.handleAddBasket(this.props.id);\n    }\n\n    render(){\n        const price = this.props.price ? <strong>{this.props.price}</strong> : <del>&nbsp;</del>;\n\n        return <div className={\"book\" + (this.state.selected ? \" book_selected\" : \" book_default\")}>\n            <h3>{this.props[\"title\"]}</h3>\n            <img src={'http://placehold.it/100x120?text='+this.props[\"title\"]} alt=\"\"/>\n            <p>Автор: {this.props[\"author\"]}</p>\n            <p>Цена: {price} руб.</p>\n            <a href=\"#\" onClick={this.handleClick}>Сравнить</a>&nbsp;\n            <a href=\"#\" onClick={this.addBasketBook}>В корзину</a>\n            <div className=\"likes\"></div>\n        </div>;\n    }\n}\n\nclass BookWithoutPrice extends React.Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        const price = this.props.price ? <strong>{this.props.price}</strong> : <del>&nbsp;</del>;\n\n        return <div className=\"book book_default\">\n            <h3>{this.props[\"title\"]}</h3>\n            <img src={'http://placehold.it/100x120?text='+this.props[\"title\"]} alt=\"\"/>\n            <p>Автор: {this.props[\"author\"]}</p>\n            <p>Цена: {price} руб.</p>\n        </div>;\n    }\n}\n\nclass Form extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {title: \"\"};\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(e){\n        this.setState({title: e.target.value});\n\n    }\n    render(){\n        return <label><input type=\"text\" onChange={this.handleChange} value={this.state.title}/>{this.state.title}</label>\n    }\n}\n\nclass AddBookForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            id:'',\n            title: '',\n            author: '',\n            price: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    isValidBook(book){\n        return book.id && book.title && book.author && true;\n    }\n\n    handleChange(e){\n        // console.log(e.target.value);\n        this.setState({\n            [e.target.name]:e.target.value\n        });\n        // console.log(this.state);\n    }\n\n    handleSubmit(e){\n        e.preventDefault();\n        if(this.isValidBook(this.state)){\n            // dataBook.push(this.state);\n            this.props.onChange(this.state);\n            this.setState({\n                id:'',\n                title: '',\n                author: '',\n                price: ''\n            });\n            // console.log(dataBook);\n            // this.props.onChange();\n        }else alert(\"Заполните поля\");\n    }\n\n    render(){\n        return <form action=\"\" onSubmit={this.handleSubmit}>\n            <div>id<input type=\"text\" name=\"id\" onChange={this.handleChange} value={this.state.id}/></div>\n            <div>Название<input type=\"text\" name=\"title\" onChange={this.handleChange} value={this.state.title}/></div>\n            <div>Авторы<input type=\"text\" name=\"author\" onChange={this.handleChange} value={this.state.author}/></div>\n            <div>Цена<input type=\"text\" name=\"price\" onChange={this.handleChange} value={this.state.price}/></div>\n            <div><input type=\"submit\" value=\"Добавить\"/></div>\n        </form>\n    }\n}\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            // counter: 0,\n            dataBook: dataBook,\n            items: []\n        };\n        this.addBasket = this.addBasket.bind(this);\n        this.removeBasket = this.removeBasket.bind(this);\n        this.handleNewBook = this.handleNewBook.bind(this);\n    }\n\n    handleNewBook(newBook){\n        this.setState(prevState => ({\n            dataBook: prevState.dataBook.push(newBook)\n        }));\n        /*this.setState(prevState => ({\n            counter: prevState.counter+1\n        }))*/\n    }\n\n    addBasket(id) {\n        let items = this.state.items.slice(0);  //для копирования\n        console.dir(items);\n        items[id] = id in items ? ++items[id] : 1;\n        this.setState({items: items});\n        console.dir(items);\n    }\n\n    removeBasket(id){\n        /*\n        let items = this.state.items.slice(0);  //для копирования\n        items[id] = items[id]>1 ? --items[id] : delete items[id];\n        this.setState({items: items});\n\n*/\n        let items = this.state.items.slice(0), result=[];\n        items[id] = items[id]-1;\n        this.setState({items:items});\n\n        console.dir(items);\n    }\n\n    render(){\n        return <div className=\"books\">\n            {/*<Form />*/}\n            <Basket\n                items={this.state.items}\n                dataBook={this.state.dataBook}\n                handleRemoveBasket={this.removeBasket}\n            />\n            <AddBookForm onChange={this.handleNewBook}/>\n            {\n                dataBook.map(item => {\n                    return item.price ?\n                    <Book title={item.title} author={item.author} price={item.price} key={item.id} id={item.id} handleAddBasket={this.addBasket}/>\n                        : <BookWithoutPrice title={item.title} author={item.author} price={item.price} key={item.id}/>\n                })\n            }\n        </div>\n    }\n}\n\nclass Basket extends React.Component {\n    constructor(props){\n        super(props);\n        this.deleteBasketItem = this.deleteBasketItem.bind(this);\n    }\n\n    deleteBasketItem(e){\n        e.preventDefault();\n        this.props.handleRemoveBasket(e.target.id);\n    }\n\n    getIndexById(id){\n        for(let p in this.props.dataBook){\n            if(this.props.dataBook[p]['id'] == id)\n                return p;\n        }\n        return false;\n    }\n\n    render(){\n        let items = [], j,sum = 0;\n\n        for(let i in this.props.items){\n            if(!this.props.items[i]) continue;\n            // console.log(this.props.items[i], i);\n            j = this.getIndexById(i);\n            sum += this.props.items[i]*this.props.dataBook[j]['price'];\n            items.push(\n                <div className=\"basket-item\">\n                    <a href=\"#\">{this.props.dataBook[j]['title']}</a>\n                    <span>{this.props.items[i]}шт.</span>\n                    <span>{this.props.dataBook[j]['price']}руб.</span>\n                    <a href=\"#\" onClick={this.deleteBasketItem} id={i}>Удалить</a>\n                </div>\n            );\n        }\n\n        return <div className=\"basket\">\n            <h3>Корзина</h3>\n            {items}\n            <div className=\"basket-item\">\n                <span>Всего: <b>{sum}</b> руб.</span>\n            </div>\n        </div>\n    }\n}\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*for likes*/\nclass Like extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {counter: 0};\n\n        // Это связывание необходимо делать работой `this` в функции обратного вызова\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick(e) {\n        e.preventDefault();\n        this.setState(prevState => ({\n            counter: prevState.counter+1\n        }));\n    }\n\n    render(){\n        return (\n            <div>\n                <a href=\"#22\" onClick={this.handleClick}>\n                    likes me\n                </a>\n                <mark>  {this.state.counter}</mark>\n            </div>\n        );\n    }\n\n}\n\nvar collection = document.getElementsByClassName('likes');\n// console.log(collection);\nfor(let i=0; i<collection.length; i++){\n    ReactDOM.render(\n        <Like />\n        ,\n        collection[i]\n    );\n}"]}